webpackJsonp([0xf09d71f22c64],{874:function(e,o){e.exports={data:{currentPage:{html:'<h1>Testear Componentes UI</h1>\n<p>Ningún tutorial de Storybook estaría completo sin hacer test. Las pruebas son esenciales para crear interfaces de usuario de alta calidad. En los sistemas modulares, los ajustes minúsculos pueden dar lugar a regresiones importantes. Hasta ahora hemos encontrado tres tipos de pruebas:</p>\n<ul>\n<li><strong>Pruebas visuales</strong> confían en que los desarrolladores examinen manualmente un componente para verificar que esté correcto. Nos ayudan a comprobar la aparencia de un componente a medida que lo construimos.</li>\n<li><strong>Pruebas instantáneas</strong> con Storyshots captura el marcado del renderizado de un componente. Nos ayudan a mantenernos al tanto de los cambios de marcado que causan errores de renderizado y advertencias en los componentes.</li>\n<li><strong>Pruebas unitarias</strong> con Jest verifica que la salida de un componente permanezca igual a una entrada fija dada. Son ideales para probar las cualidades funcionales de un componente.</li>\n</ul>\n<h2>"¿Pero se ve bien?"</h2>\n<p>Desafortunadamente, los métodos de testing mencionados no son suficientes para prevenir errores de interfaz. Las interfaces de usuario son difíciles de probar porque el diseño es subjetivo y matizado. Las pruebas visuales son demasiado manuales, las pruebas instantáneas desencadenan demasiados falsos positivos cuando se utilizan para la interfaz de usuario, y las pruebas unitarias a nivel de píxel son de poco valor. Una estrategia completa de pruebas de Storybook también incluye pruebas de regresión visual.</p>\n<h2>Pruebas de regresión visual para Storybook</h2>\n<p>Las pruebas de regresión visual están diseñadas para detectar cambios en la apariencia. Funcionan haciendo capturas de pantalla de todas las historias y comparando con los cambios superficiales. Esto es perfecto para verificar elementos gráficos como diseño, color, tamaño y contraste.</p>\n<video autoPlay muted playsInline loop style="width:480px; margin: 0 auto;">\n  <source\n    src="/visual-regression-testing.mp4"\n    type="video/mp4"\n  />\n</video>\n<p>Storybook es una herramienta fantástica para las pruebas de regresión visual porque cada historia es esencialmente una especificación del test. Cada vez que escribimos o actualizamos una historia recibimos una especificación gratis!</p>\n<p>Existen varias herramientas para la prueba de regresión visual. Para equipos profesionales recomendamos <a href="https://www.chromaticqa.com/"><strong>Chromatic</strong></a>, un complemento hecho por las personas de Storybook que ejecuta pruebas en la nube.</p>\n<h2>Configurar pruebas de regresión visual</h2>\n<p>Chromatic es un complemento de Storybook para pruebas de regresión visual y revisión en la nube. Dado que es un servicio de pago (con una prueba gratuita), puede que no sea para todos. Sin embargo, Chromatic es un ejemplo instructivo de un flujo de trabajo de pruebas visuales de producción que probaremos gratuitamente. Echemos un vistazo.</p>\n<h3>Iniciando Git</h3>\n<p>Primero tienes que configurar Git para tu proyecto en el directorio local. Chromatic usa el historial de Git para hacer un seguimiento de los componentes de tu interfaz de usuario.</p>\n<pre><code class="language-bash">$ git init\n</code></pre>\n<p>Luego agrega archivos al primer commit.</p>\n<pre><code class="language-bash">$ git add .\n</code></pre>\n<p>Ahora haz commit de los archivos.</p>\n<pre><code class="language-bash">$ git commit -m "taskbox UI"\n</code></pre>\n<h3>Añadiendo Chromatic</h3>\n<p>Agregando el paquete como una dependencia.</p>\n<pre><code class="language-bash">yarn add storybook-chromatic\n</code></pre>\n<p>Importa Chromatic en tu archivo <code>.storybook/config.js</code>.</p>\n<pre><code class="language-javascript">import { configure } from \'@storybook/react\';\nimport \'storybook-chromatic/storybook-addon\';\n\nimport \'../src/index.css\';\n\nconst req = require.context(\'../src/components\', true, /\\.stories\\.js$/);\n\nfunction loadStories() {\n  req.keys().forEach(filename => req(filename));\n}\n\nconfigure(loadStories, module);\n</code></pre>\n<p>Ahora <a href="https://chromaticqa.com/start">logueate en Chromatic</a> con tú cuenta de GitHub (Chromatic solo te pedirá algunos permisos simples). Crea un proyecto con nombre "taskbox" y copia tu <code>app-code</code> único.</p>\n<video autoPlay muted playsInline loop style="width:520px; margin: 0 auto;">\n  <source\n    src="/chromatic-setup-learnstorybook.mp4"\n    type="video/mp4"\n  />\n</video>\n<p>Ejecuta el comando de prueba en la línea de comandos para configurar las pruebas de regresión visual para Storybook. No olvides añadir tu código de aplicación único en el <code>&#x3C;app-code></code>.</p>\n<pre><code class="language-bash">./node_modules/.bin/chromatic test --storybook-addon --app-code=&#x3C;app-code> --do-not-start\n</code></pre>\n<div class="aside">\n<code>--do-not-start</code> es una opción que le dice a Chromatic que no inicie Storybook. Usa esto si ya tienes a Storybook corriendo. Si no, omite el <code>--do-not-start</code>.\n</div>\n<p>Una vez el primer test esté completo, tenemos líneas base de prueba para cada historia. En otras palabras, capturas de cada historia que ya se conocen como "buenas". Los futuros cambios a estas historias serán comparados con estás lineas base.</p>\n<p><img src="/chromatic-baselines.png" alt="Chromatic baselines"></p>\n<h2>Capturando un cambio en la interfaz de usuario</h2>\n<p>La prueba de regresión visual se basa en la comparación de imágenes del nuevo código de la interfaz de usuario renderizado con las imágenes de la línea base. Si se detecta un cambio en la interfaz de usuario, se notificará. Vea cómo funciona ajustando el fondo del componente <code>Tareas</code>:</p>\n<p><img src="/chromatic-change-to-task-component.png" alt="code change"></p>\n<p>Esto produce un nuevo color de fondo para el artículo.</p>\n<p><img src="/chromatic-task-change.png" alt="task background change"></p>\n<p>Usa el comando de prueba anterior para ejecutar otra prueba cromática.</p>\n<pre><code class="language-bash">./node_modules/.bin/chromatic test --storybook-addon --app-code=&#x3C;app-code> --do-not-start\n</code></pre>\n<p>Sigue el enlace a la interfaz de usuario web donde verá los cambios.</p>\n<p><img src="/chromatic-catch-changes.png" alt="UI changes in Chromatic"></p>\n<p>Hay muchos cambios! La jerarquía de componentes donde <code>Task</code> es hijo de <code>TaskList</code> y <code>Inbox</code> significa un pequeño giro de bolas de nieve en regresiones mayores. Esta circunstancia es precisamente la razón por la que los desarrolladores necesitan pruebas de regresión visual además de otros métodos de pruebas.</p>\n<p><img src="/minor-major-regressions.gif" alt="UI minor tweaks major regressions"></p>\n<h2>Revisando cambios</h2>\n<p>Las pruebas de regresión visual aseguran que los componentes no cambien por accidente. Pero todavía depende de ti determinar si los cambios son intencionales o no.</p>\n<p>Si un cambio es intencional, es necesario actualizar la línea base para que las pruebas futuras se comparen con la última versión de la historia. Si un cambio no es intencional, debe ser corregido.</p>\n<video autoPlay muted playsInline loop style="width:480px; margin: 0 auto;">\n  <source\n    src="/website-workflow-review-merge-optimized.mp4"\n    type="video/mp4"\n  />\n</video>\n<p>Dado que las aplicaciones modernas se construyen a partir de componentes, es importante que probemos a nivel de componentes. Hacerlo nos ayuda a identificar la causa raíz de un cambio, el componente, en lugar de reaccionar a los síntomas de un cambio, las pantallas y los componentes compuestos.</p>\n<h2>Fusionando cambios</h2>\n<p>Cuando hayamos terminado de revisar, estaremos listos para fusionar o hacer "merge" de los cambios en la interfaz de usuario con confianza, sabiendo que las actualizaciones no introducirán errores accidentalmente. Si te gusta el nuevo fondo <code>papayawhip</code> entonces acepta los cambios, si no, vuelve al estado anterior.</p>\n<p><img src="/chromatic-review-finished.png" alt="Changes ready to be merged"></p>\n<p>Storybook te ayuda a <strong>construir</strong> componentes; las pruebas te ayudan a <strong>mantenerlos</strong>. Los cuatro tipos de pruebas de interfaz de usuario que se tratan en este tutorial son las pruebas visuales, de instantánea, unitarios y de regresión visual. Puede automatizar los tres últimos añadiéndolos a su script CI. Esto le ayuda a enviar componentes sin tener que preocuparse por los bugs polizones. A continuación se ilustra todo el flujo de trabajo.</p>\n<p><img src="/cdd-review-workflow.png" alt="Visual regression testing workflow"></p>',frontmatter:{title:"Testing",description:"Aprende las formas de hacer test a los componentes de la UI",commit:"bd69176"},fields:{slug:"/docs/es/test/",chapter:"test",framework:"docs",language:"es"}},site:{siteMetadata:{title:"binstd-区块链云服务平台",toc:["get-started","simple-component","composite-component","data","screen","test","deploy","conclusion","contribute"],languages:["en","zh"],githubUrl:"https://github.com/hichroma/learnstorybook.com",codeGithubUrl:"https://github.com/hichroma/learnstorybook-code",siteUrl:"https://binstd.com"}},pages:{edges:[{node:{frontmatter:{tocTitle:"Componente Compuesto",title:"Ensamblar un componente compuesto",description:"Ensamblar un componente compuesto a partir de componentes simples"},fields:{slug:"/docs/es/composite-component/",chapter:"composite-component"}}},{node:{frontmatter:{tocTitle:null,title:"Conclusion",description:"Pon todo tu conocimiento junto y aprende más técnicas de Storybook"},fields:{slug:"/docs/es/conclusion/",chapter:"conclusion"}}},{node:{frontmatter:{tocTitle:null,title:"Contribuir",description:"Ayuda a compartir Storybook con el mundo"},fields:{slug:"/docs/es/contribute/",chapter:"contribute"}}},{node:{frontmatter:{tocTitle:"Datos",title:"Introducir datos",description:"Aprende como introducir datos a tus componentes UI"},fields:{slug:"/docs/es/data/",chapter:"data"}}},{node:{frontmatter:{tocTitle:"Desplegar",title:"Desplegar Storybook",description:"Desplegar Storybook online con GitHub y Netlify"},fields:{slug:"/docs/es/deploy/",chapter:"deploy"}}},{node:{frontmatter:{tocTitle:"Empezando",title:"Empezando",description:"Configurar React Storybook en tu entorno de desarrollo"},fields:{slug:"/docs/es/get-started/",chapter:"get-started"}}},{node:{frontmatter:{tocTitle:"Pantallas",title:"Construir una pantalla",description:"Construir una pantalla con componentes"},fields:{slug:"/docs/es/screen/",chapter:"screen"}}},{node:{frontmatter:{tocTitle:"Componente Simple",title:"Construye un componente simple",description:"Construye un componente simple en aislamiento"},fields:{slug:"/docs/es/simple-component/",chapter:"simple-component"}}},{node:{frontmatter:{tocTitle:null,title:"Testing",description:"Aprende las formas de hacer test a los componentes de la UI"},fields:{slug:"/docs/es/test/",chapter:"test"}}}]}},pathContext:{slug:"/docs/es/test/",framework:"docs",language:"es",chapter:"test"}}}});
//# sourceMappingURL=path---docs-es-test-9e496dcd02dd8388d82e.js.map