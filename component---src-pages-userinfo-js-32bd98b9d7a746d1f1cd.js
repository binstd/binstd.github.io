(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{127:function(e,t,a){"use strict";a.r(t);a(239);var n=a(6),r=a.n(n),o=(a(34),a(0)),i=a.n(o),s=(a(547),a(153)),c=(a(202),a(154)),l=a.n(c),u=a(142),m=a.n(u),p=a(4),d=a.n(p),h=a(134),f=a.n(h),g=a(149),E=a.n(g),v=(a(152),a(176)),w=function(e){function t(){var t;return(t=e.call(this)||this).handleChange=function(e){var a=e.target.value;t.setState({username:a})},t.handleSubmit=function(e){e.target;console.log(t.state.user);var a=t.state,n=a.auth,r=a.user,o=a.username;t.setState({loading:!0}),l()(s.a+"/api/users/"+r.id,{body:JSON.stringify({username:o}),headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},method:"PATCH"}).then(function(e){return e.json()}).then(function(e){return t.setState({loading:!1,user:e})}).catch(function(e){window.alert(e),t.setState({loading:!1})})},t.state={loading:!1,user:null,username:"",auth:"",uid:"",address:""},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e,t=this,a="";if(localStorage.getItem("userinfo")){var n=JSON.parse(localStorage.getItem("userinfo"));e=n.auth.accessToken,a=n.id,this.setState({auth:e,address:n.address,uid:a}),console.log("\n auth: ",e)}l()(s.a+"/api/users/"+a,{headers:{Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(e){t.setState({user:e}),console.log(e)}).catch(window.alert)},a.render=function(){var e=this.props.classes,t=this.state,a=t.auth,n=(t.loading,t.user),r=t.address,o=n&&n.username;return o&&console.log("username:",o),i.a.createElement(v.a,null,i.a.createElement("div",{style:{minHeight:"600px",maxWidth:"700px",wordWrap:"break-word",margin:"auto",marginTop:"100px"}},i.a.createElement(E.a,{className:e.root},i.a.createElement(m.a,{variant:"h5",component:"h3"},"用户名:"),o?i.a.createElement("p",null,o):i.a.createElement("p",null,"'未设置'")),i.a.createElement(E.a,{className:e.root},i.a.createElement(m.a,{variant:"h5",component:"h3"},"地址:"),i.a.createElement(m.a,{type:"body1"},r)),i.a.createElement(E.a,{className:e.root},i.a.createElement(m.a,{variant:"h5",component:"h3"},"api-key:"),i.a.createElement(m.a,{type:"body1"},a.toString()))))},t}(i.a.Component);w.propTypes={classes:d.a.object.isRequired},t.default=f()(function(e){return{root:Object.assign({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,wordWrap:"break-word",marginTop:"10px",margin:"20px"})}})(w)},152:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(4),i=a.n(o),s=a(144),c=a(180),l=a.n(c),u=a(185),m=a.n(u),p=a(142),d=a.n(p),h=a(150),f=a.n(h),g=a(168),E=a.n(g);function v(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(l.a,{position:"static"},r.a.createElement(m.a,null,r.a.createElement(E.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"}),r.a.createElement(d.a,{variant:"h6",color:"inherit",className:t.grow},r.a.createElement(f.a,{color:"inherit"},"首页"),r.a.createElement(f.a,{color:"inherit"},"API")),r.a.createElement(f.a,{color:"inherit"},"登陆"))))}v.propTypes={classes:i.a.object.isRequired},t.a=Object(s.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(v)},153:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n="https://api.binstd.com"},176:function(e,t,a){"use strict";a(177);var n=a(0),r=a.n(n),o=a(4),i=a.n(o),s=a(166),c=a.n(s),l=a(170),u=a.n(l),m=a(189),p=a.n(m),d=a(144),h=a(152),f=Object(d.createMuiTheme)({palette:{primary:{light:"#2196f3",main:"#2196f3",dark:"#2196f3",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}},typography:{useNextVariants:!0},shadows:Array(25).fill("none")}),g=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement(c.a,{title:"",meta:[{name:"description",content:"Sample"},{name:"keywords",content:"sample, something"}]},r.a.createElement("html",{lang:"en"})),r.a.createElement(u.a,{theme:f},r.a.createElement(h.a,null),t))};g.propTypes={children:i.a.node.isRequired},t.a=g},202:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r});var n=function(e,t){return e[t]?(console.log("jsonData[name].value",e[t].value),e[t].value):t},r=function(e,t,a){return console.log(e,t,a),e[t]&&e[t].inputs&&e[t].inputs[a]?e[t].inputs[a]:a}}}]);
//# sourceMappingURL=component---src-pages-userinfo-js-32bd98b9d7a746d1f1cd.js.map