(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{259:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="https://api.binstd.com";a="https://api.binstd.com",console.log("server_url:",a)},264:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,i=n(297);"undefined"!=typeof window&&(a=new i(window.ethereum||new i.HttpProvider("https://ropsten.infura.io/v3/0045c2ce288a4e649a8f39f3d19446b4")))},267:function(e,t,n){"use strict";n(48);var a=n(116),i=n.n(a),o=n(0),r=n.n(o),s=n(1),l=n.n(s),c=n(75),u=n(258),d=n(257),p=n.n(d),h={h1:"h1",h2:"h1",h3:"h1",h4:"h1",h5:"h3",h6:"h2",subtitle1:"h3"};function m(e){var t=e.children,n=e.classes,a=e.marked,o=e.variant,s=i()(e,["children","classes","marked","variant"]);return r.a.createElement(p.a,Object.assign({headlineMapping:h,variant:o},s),t,a?r.a.createElement("span",{className:n["marked"+(Object(u.capitalize)(o)+Object(u.capitalize)(a))]}):null)}m.propTypes={children:l.a.node,classes:l.a.object.isRequired,marked:l.a.oneOf([!1,"center","left"]),variant:l.a.string},m.defaultProps={marked:!1},t.a=Object(c.withStyles)(function(e){return{markedH2Center:{height:4,width:73,display:"block",margin:e.spacing.unit+"px auto 0",backgroundColor:e.palette.secondary.main},markedH3Center:{height:4,width:55,display:"block",margin:e.spacing.unit+"px auto 0",backgroundColor:e.palette.secondary.main},markedH4Center:{height:4,width:55,display:"block",margin:e.spacing.unit+"px auto 0",backgroundColor:e.palette.secondary.main},markedH6Left:{height:2,width:28,display:"block",marginTop:e.spacing.unit/2,background:"currentColor"}}})(m)},269:function(e,t,n){"use strict";n(48);var a=n(116),i=n.n(a),o=n(0),r=n.n(o),s=n(1),l=n.n(s),c=n(256),u=n.n(c),d=n(75),p=n(258);function h(e){return Math.round(1e4*e)/1e4}function m(e){var t,n=e.children,a=e.classes,o=e.className,s=e.component,l=e.fullHeight,c=e.fullWidth,d=e.margin,h=e.marginBottom,m=e.style,f=e.width,g=i()(e,["children","classes","className","component","fullHeight","fullWidth","margin","marginBottom","style","width"]);return r.a.createElement(s,Object.assign({className:u()(a.root,(t={},t[a["width"+Object(p.capitalize)(f)]]=!c,t[a.fullHeight]=l,t[a.margin]=d,t[a.marginBottom]=h,t),o),style:m},g),n)}m.propTypes={children:l.a.node,classes:l.a.object.isRequired,className:l.a.string,component:l.a.oneOfType([l.a.string,l.a.func]),fullHeight:l.a.bool,fullWidth:l.a.bool,margin:l.a.bool,marginBottom:l.a.bool,style:l.a.object,width:l.a.oneOf(["small","medium","large","xlarge","full"])},m.defaultProps={component:"div",fullHeight:!1,fullWidth:!1,margin:!1,marginBottom:!1,width:"medium"},t.a=Object(d.withStyles)(function(e){var t,n,a,i;return{margin:{margin:7*e.spacing.unit},marginBottom:{marginBottom:12*e.spacing.unit},widthSmall:(t={width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},t[e.breakpoints.up(660+6*e.spacing.unit)]={width:660,marginLeft:"auto",marginRight:"auto"},t),widthMedium:(n={width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},n[e.breakpoints.up(850+6*e.spacing.unit)]={width:850,marginLeft:"auto",marginRight:"auto"},n),widthLarge:(a={width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},a[e.breakpoints.up("md")]={width:880,marginLeft:"auto",marginRight:"auto"},a[e.breakpoints.up(h(880/.7777))]={width:"77.7777%"},a[e.breakpoints.up(h(1400/.7777))]={width:1400},a),widthXlarge:(i={width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},i[e.breakpoints.up("md")]={width:900,marginLeft:"auto",marginRight:"auto"},i[e.breakpoints.up(h(1e3))]={width:"90%"},i[e.breakpoints.up(h(2e3))]={width:1800},i),widthFull:{width:"100%"},fullHeight:{height:"100%"}}})(m)},271:function(e,t,n){"use strict";n(50);var a=n(9),i=n.n(a),o=n(0),r=n.n(o),s=n(1),l=n.n(s),c=n(75),u=n(318),d=n.n(u),p=n(319),h=n.n(p),m=n(257),f=n.n(m),g=n(260),b=n.n(g),w=n(281),y=n.n(w),v=n(20),k=n(316),E=n.n(k),S=n(315),O=n.n(S),j=n(312),C=n.n(j),I=n(314),M=n.n(I),N=n(317),x=n.n(N),z=n(264),B=n(28),L=n.n(B),R=n(289),T=function(){function e(){this.id=Math.random(),this.uid=void 0,this.username=void 0,this.telephone=void 0,this.address=void 0,this.logintype=void 0,this.verifyed=void 0,this.auth=void 0,this.choossedmenu=void 0}var t=e.prototype;return t.allSet=function(e){e.uid&&(this.uid=e.uid),e.username&&(this.username=e.username),e.telephone&&(this.telephone=e.telephone),e.address&&(this.address=e.address),e.verifyed&&(this.verifyed=e.verifyed),e.logintype&&(this.logintype=e.logintype),e.auth&&(this.auth=e.auth)},t.uidSet=function(e){this.uid=e},t.usernameSet=function(e){this.username=e},t.telephoneSet=function(e){this.telephone=e},t.addressSet=function(e){this.address=e},t.logintypeSet=function(e){this.logintype=e},t.verifyedSet=function(e){this.verifyed=e},t.authSet=function(e){this.auth=e},t.clearAll=function(){this.uid="",this.username="",this.telephone="",this.address="",this.logintype="",this.verifyed="",this.auth=""},L()(e,[{key:"getAllData",get:function(){return{uid:this.uid,username:this.username,telephone:this.telephone,address:this.address,verifyed:this.verifyed,logintype:this.logintype,auth:this.auth}}}]),e}();Object(R.f)(T,{uid:R.k,username:R.k,telephone:R.k,address:R.k,verifyed:R.k,logintype:R.k,auth:R.k,choossedmenu:R.k});var P=new T,A=n(290),H=n(259),D=Object(A.a)(function(e){function t(t){var n;return(n=e.call(this,t)||this).handleProfileMenuOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.handleMenuClose=function(){n.setState({anchorEl:null}),n.handleMobileMenuClose()},n.handleMobileMenuOpen=function(e){n.setState({mobileMoreAnchorEl:e.currentTarget})},n.handleMobileMenuClose=function(){n.setState({mobileMoreAnchorEl:null})},n.handleSignMessage=function(e){var t=e.publicAddress,a=e.nonce,i=e.id;return n.setState({id:i}),new Promise(function(e,n){return window.web3.personal.sign(window.web3.fromUtf8("I am signing: "+a),t,function(a,i){return a?n(a):(console.log("\n signature:",i),e({publicAddress:t,signature:i}))})})},n.handleAuthenticate=function(e){var t=e.publicAddress,n=e.signature;return fetch(H.a+"/api/auth",{body:JSON.stringify({publicAddress:t,signature:n}),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()})},n.handleLoggedIn=function(e){var t={logintype:"ETH",address:window.web3.eth.accounts[0].toLowerCase(),auth:e,id:n.state.id};P.allSet(t),localStorage.setItem("userinfo",JSON.stringify(t)),console.log(P.logintype),n.setState({auth:e}),window.location.reload(!0)},n.handleLoggedOut=function(){localStorage.removeItem("userinfo"),localStorage.removeItem("userdapp"),P.clearAll(),n.setState({auth:void 0}),window.location.reload(!0)},n.handleSignup=function(e){return fetch(H.a+"/api/users",{body:JSON.stringify({publicAddress:e}),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()})},n.state={userinfo:{},anchorEl:null,mobileMoreAnchorEl:null,network:"",address:""},n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;if(void 0!==window.ethereum&&(this.login(),z.a.net_version().then(function(t){e.setState({networkId:t})}),localStorage.getItem("userinfo"))){var t=JSON.parse(localStorage.getItem("userinfo"));this.setState({userinfo:t})}},n.login=function(){var e=this;void 0!==window.ethereum&&window.ethereum.enable().then(function(t){console.log(t[0]),e.setState({address:t[0]})})},n.payToken=function(){var e=this;P.address||P.logintype||console.log("没有登录"),void 0!==window.ethereum&&window.ethereum.enable().then(function(t){var n=t[0];fetch(H.a+"/api/users?publicAddress="+n).then(function(e){return e.json()}).then(function(t){return t.length?t[0]:e.handleSignup(n)}).then(e.handleSignMessage).then(e.handleAuthenticate).then(e.handleLoggedIn).catch(function(e){window.alert(e)})})},n.render=function(){var e,t=this,n=this.state,a=n.userinfo,i=n.anchorEl,o=n.mobileMoreAnchorEl,s=n.networkId,l=this.props.classes,c=Boolean(i),u=Boolean(o);e="{}"===JSON.stringify(a)?r.a.createElement(b.a,{color:"inherit",onClick:function(){return t.payToken()}}," 登录 "):r.a.createElement("div",null,r.a.createElement("div",{className:l.sectionDesktop},r.a.createElement(b.a,{color:"inherit",onClick:function(){return Object(v.b)("/dapp/"+a.address)}}," dapp "),r.a.createElement(y.a,{"aria-owns":c?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},r.a.createElement(C.a,null))),r.a.createElement("div",{className:l.sectionMobile},r.a.createElement(y.a,{"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},r.a.createElement(M.a,null))));var p,m=r.a.createElement(O.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:this.handleMenuClose},r.a.createElement(E.a,{onClick:function(){return Object(v.b)("/userinfo")}},"个人中心"),r.a.createElement(E.a,{onClick:function(){return t.handleLoggedOut()}},"退出")),g=r.a.createElement(O.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:this.handleMobileMenuClose},r.a.createElement(E.a,{onClick:function(){return Object(v.b)("/userinfo")}},r.a.createElement("p",null,"个人中心")),r.a.createElement(E.a,{onClick:function(){return Object(v.b)("/dapp/"+a.address)}},r.a.createElement("p",null,"我的Dapp")),r.a.createElement(E.a,{onClick:function(){return t.handleLoggedOut()}},r.a.createElement("p",null,"退出"))),w="";switch(s){case"1":w=l.colorMain,p="main";break;case"2":w="",p="morden";break;case"3":w=l.colorRopsten,p="ropsten";break;case"4":w=l.colorRinkeby,p="rinkeby";break;case"42":w=l.colorKovan,p="kovan";break;default:p=" "}var k=r.a.createElement("div",null,r.a.createElement(b.a,{color:"inherit",onClick:function(){return t.login()}},r.a.createElement(x.a,{className:w,style:{fontSize:15,marginRight:"5px"}})," ",p));return r.a.createElement("div",{className:l.root},r.a.createElement(d.a,{position:"fixed",className:l.appBar},r.a.createElement(h.a,null,r.a.createElement("div",{className:l.sectionDesktop},r.a.createElement("img",{src:"https://programmerinnfile.b0.upaiyun.com/community/10001/20180814/yzdXjjAI4g.png",style:{height:30,width:108,margin:"0 35px 5px 0"}})),r.a.createElement(f.a,{variant:"h6",color:"inherit",className:l.grow},r.a.createElement(b.a,{color:"inherit",onClick:function(){return Object(v.b)("/")}},"首页"),r.a.createElement(b.a,{color:"inherit",onClick:function(){return Object(v.b)("/imbit")}},"IMbit"),r.a.createElement(b.a,{color:"inherit",onClick:function(){return Object(v.b)("/dapp/index")}},"Dapp部署"),r.a.createElement(b.a,{color:"inherit",onClick:function(){return Object(v.b)("/docs/getting-started/info")}},"API")),r.a.createElement("div",{className:l.sectionDesktop},k),e),m,g))},t}(r.a.Component));D.propTypes={classes:l.a.object.isRequired};t.a=Object(c.withStyles)(function(e){var t,n;return{root:{width:"100%"},appBar:{zIndex:e.zIndex.drawer+1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},sectionDesktop:(t={display:"none"},t[e.breakpoints.up("md")]={display:"flex"},t),sectionMobile:(n={display:"flex"},n[e.breakpoints.up("md")]={display:"none"},n),colorMain:{color:"#1abc9c"},colorRopsten:{color:"#FF3E96"},colorRinkeby:{color:"#FFD700"},colorKovan:{color:"#690496"}}})(D)},275:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(1),r=n.n(o),s=n(271),l=function(e){var t=e.children;return i.a.createElement("div",null,i.a.createElement(s.a,null),t)};l.propTypes={children:r.a.node.isRequired},t.a=l},294:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(1),r=n.n(o),s=n(387),l=n.n(s),c=n(313),u=n.n(c),d=n(75),p=n(261),h=n.n(p),m=n(284),f=n.n(m),g=n(269),b=n(267),w=(n(48),n(116)),y=n.n(w),v=n(256),k=n.n(v),E=n(276),S=n.n(E),O=n(258);function j(e){var t,n=e.classes,a=e.InputProps,o=(a=void 0===a?{}:a).classes,r=(o=void 0===o?{}:o).input,s=y()(o,["input"]),l=y()(a,["classes"]),c=e.InputLabelProps,u=e.noBorder,d=e.size,p=e.SelectProps,h=y()(e,["classes","InputProps","InputLabelProps","noBorder","size","SelectProps"]);return i.a.createElement(S.a,Object.assign({InputProps:Object.assign({disableUnderline:!0,classes:Object.assign({root:n.root,input:k()(n.input,n["inputSize"+Object(O.capitalize)(d)],(t={},t[n.inputBorder]=!u,t),r),disabled:n.disabled},s)},l),InputLabelProps:Object.assign({},c,{shrink:!0,className:n.formLabel}),SelectProps:Object.assign({},p,{classes:{select:n.select,icon:n.selectIcon}})},h))}j.propTypes={classes:r.a.object.isRequired,InputLabelProps:r.a.object,InputProps:r.a.object,noBorder:r.a.bool,SelectProps:r.a.object,size:r.a.oneOf(["small","medium","large","xlarge"])},j.defaultProps={noBorder:!1,size:"medium"};Object(d.withStyles)(function(e){return{root:{padding:0,"label + &":{marginTop:3*e.spacing.unit}},input:{minWidth:6*e.spacing.unit,backgroundColor:e.palette.common.white,"&$disabled":{backgroundColor:e.palette.divider}},inputBorder:{border:"1px solid #e9ddd0","&:focus":{borderColor:e.palette.secondary.main}},disabled:{},inputSizeSmall:{fontSize:14,padding:e.spacing.unit,width:"calc(100% - "+2*e.spacing.unit+"px)"},inputSizeMedium:{fontSize:16,padding:2*e.spacing.unit,width:"calc(100% - "+4*e.spacing.unit+"px)"},inputSizeLarge:{fontSize:18,padding:22,width:"calc(100% - 44px)"},inputSizeXlarge:{fontSize:20,padding:25,width:"calc(100% - 50px)"},formLabel:{fontSize:18},select:{height:"auto",borderRadius:0},selectIcon:{top:"50%",marginTop:-12}}})(j);function C(e){var t=e.classes;return i.a.createElement(b.a,{component:"footer",className:t.root},i.a.createElement(g.a,{className:t.layoutBody,width:"large"},i.a.createElement(h.a,{container:!0,spacing:40},i.a.createElement(h.a,{item:!0,xs:6,sm:4,md:2},i.a.createElement(h.a,{container:!0,direction:"column",justify:"flex-end",className:t.iconsWrapper,spacing:16},i.a.createElement(h.a,{item:!0,className:t.icons},i.a.createElement("a",{href:"https://material-ui.com/",className:t.icon},i.a.createElement("img",{src:"https://programmerinnfile.b0.upaiyun.com/community/10001/20180814/69sDk199wJ.png",alt:"binstd",className:t.footerIcon}))),i.a.createElement(h.a,{item:!0,style:{color:"#ffffff "}}," "))),i.a.createElement(h.a,{item:!0,xs:6,sm:4,md:2},i.a.createElement(b.a,{variant:"h6",marked:"left",gutterBottom:!0,style:{color:"#ffffff "}},"链接"),i.a.createElement("ul",{className:t.list},i.a.createElement("li",{className:t.listItem},i.a.createElement(f.a,{href:"https://github.com/binstd",style:{color:"#ffffff "}},"github")),i.a.createElement("li",{className:t.listItem},i.a.createElement(f.a,{href:"/about",style:{color:"#ffffff "}},"关于我们")))),i.a.createElement(h.a,{item:!0,xs:6,sm:8,md:4},i.a.createElement(b.a,{variant:"h6",marked:"left",gutterBottom:!0,style:{color:"#ffffff "}},"产品"),i.a.createElement("ul",{className:t.list},i.a.createElement("li",{className:t.listItem},i.a.createElement(f.a,{href:"/dapp/index",style:{color:"#ffffff "}},"区块链云平台")),i.a.createElement("li",{className:t.listItem},i.a.createElement(f.a,{href:"/imbit",style:{color:"#ffffff "}},"imbit数字身份")))),i.a.createElement(h.a,{item:!0},i.a.createElement(b.a,{variant:"caption",style:{color:"#ffffff "}},i.a.createElement(f.a,{href:"www.binstd.com",title:"Freepik",style:{color:"#ffffff "}},"BinSTD进制")," ©2018 ",i.a.createElement(f.a,{href:"www.binstd.com",title:"Flaticon",style:{color:"#ffffff "}},"www.binstd.com")," All Rights Reserved.")))))}C.propTypes={classes:r.a.object.isRequired};t.a=l()(u.a,Object(d.withStyles)(function(e){return{root:{display:"flex",backgroundColor:"#000000"},layoutBody:{marginTop:8*e.spacing.unit,marginBottom:8*e.spacing.unit,display:"flex"},iconsWrapper:{height:120},icons:{display:"flex"},icon:{width:48,height:48,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#000000",marginRight:e.spacing.unit,"&:hover":{backgroundColor:"#000000"}},list:{margin:0,listStyle:"none",paddingLeft:0},listItem:{paddingTop:e.spacing.unit/2,paddingBottom:e.spacing.unit/2},language:{marginTop:e.spacing.unit,width:150},footerIcon:{width:"50px"}}}))(C)},302:function(e,t){}}]);
//# sourceMappingURL=3-b5660d914cfed4b4b6c6.js.map